<launch>
	<!-- Hardware interface -->
	<arg name="disable_motors" default="0"/>

	<!-- Percept generators -->
	<arg name="use_kinect" default="1"/>
	<arg name="use_sonar" default="1"/>
	<!-- Height is inverted, towards the sky is negative, towards the ground is positive -->
	<arg name="min_pc_height" default="-0.5"/>
	<arg name="max_pc_height" default="0.05"/>
	<arg name="euclidean_cluster_tolerance" default="0.05"/>
	<arg name="euclidean_min_cluster_size" default="100"/>	
	<arg name="euclidean_max_cluster_size" default="1048575"/>
	<arg name="voxel_size" default="0.01"/>
	<arg name="kinect_pfield_strength" default="1.5"/>
	<arg name="kinect_pfield_decay_time" default="2"/>
	<arg name="cylinder_axis_tolerance" default="10"/>	
	<arg name="max_ticks" default="500000"/>
	<arg name="mid_ticks" default="120000"/>
	<arg name="min_ticks" default="100000"/>
	<arg name="max_pfield" default="20"/>
	<arg name="mid_pfield" default="3"/>

	<!-- Robot description -->
	<param name="/wheel_base" value="0.3048" type="double"/>
	<param name="/wheel_radius" value="0.06" type="double"/>

	<include if="$(arg use_kinect)" file="$(find openni_launch)/launch/openni.launch"/>

	<include file="$(find kipc_launch)/launch/percepts.launch">
		<arg name="use_kinect" value="$(arg use_kinect)"/>
		<arg name="use_sonar" value="$(arg use_sonar)"/>
		<arg name="min_pc_height" value="$(arg min_pc_height)"/>
		<arg name="max_pc_height" value="$(arg max_pc_height)"/>
		<arg name="euclidean_cluster_tolerance" value="$(arg euclidean_cluster_tolerance)"/>
		<arg name="euclidean_min_cluster_size" value="$(arg euclidean_min_cluster_size)"/>	
		<arg name="euclidean_max_cluster_size" value="$(arg euclidean_max_cluster_size)"/>
		<arg name="voxel_size" value="$(arg voxel_size)"/>
		<arg name="kinect_pfield_strength" value="$(arg kinect_pfield_strength)"/>
		<arg name="kinect_pfield_decay_time" value="$(arg kinect_pfield_decay_time)"/>
		<arg name="cylinder_axis_tolerance" value="$(arg cylinder_axis_tolerance)"/>
		<arg name="max_ticks" value="$(arg max_ticks)"/>
		<arg name="mid_ticks" value="$(arg mid_ticks)"/>
		<arg name="min_ticks" value="$(arg min_ticks)"/>
		<arg name="max_pfield" value="$(arg max_pfield)"/>
		<arg name="mid_pfield" value="$(arg mid_pfield)"/>
	</include>

	<include file="$(find kipc_launch)/launch/hardware_interface.launch">
		<arg name="disable_motors" value="$(arg disable_motors)"/>
	</include>

	<include file="$(find kipc_launch)/launch/schema.launch"/>

</launch>